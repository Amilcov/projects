(this["webpackJsonpstartrek-cards"]=this["webpackJsonpstartrek-cards"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(16),s=c.n(a),i=c(7),l=c(11),d=c(19),o=[{id:0,name:"Martok",imgUrl:"/img/pic0.png",content:"Ferocious Klingon"},{id:1,name:"Mijural",imgUrl:"/img/pic1.png",content:"Shrike Class Romulan"},{id:2,name:"Puretech",imgUrl:"/img/pic2.png",content:"Hypersapce Sensor System"},{id:3,name:"Breen",imgUrl:"/img/pic3.png",content:"Breen Battleship"},{id:4,name:"Mayson",imgUrl:"/img/pic4.png",content:" Norway class Admiral"},{id:5,name:"Risner",imgUrl:"/img/pic5.png",content:"Phalanx class Admiral"}],j=o.reduce((function(e,t){return e[t.id]=10,e}),{}),u=[{name:"My Deck",cards:[]},{name:"Danny Butterwick's Deck",cards:[o[0],o[1],o[2]]}],m=c(0),b=Object(n.createContext)(),O=function(){return Object(n.useContext)(b)};function h(e){var t=localStorage.getItem("STAR_TREK_MY_DECK"),c=localStorage.getItem("STAR_TREK_INVENTORY"),r=u[0],a=j;(t&&(r.cards=t.split(",").map((function(e){return o[e]}))),c)&&(a=c.split(",").reduce((function(e,t,c){return e[c]=t,e}),{}));var s=Object(n.useState)({inventory:a,decks:[r,u[1]]}),i=Object(d.a)(s,2),O=i[0],h=i[1],x=Object(n.useCallback)((function(e){if(0!==O.inventory[e]){var t=Object(l.a)({},O.inventory),c=Object(l.a)({},O.decks[0]);t[e]--,c.cards.push(o[e]),h({inventory:t,decks:[c,O.decks[1]]}),localStorage.setItem("STAR_TREK_MY_DECK",c.cards.map((function(e,t){return e.id}))),localStorage.setItem("STAR_TREK_INVENTORY",Object.values(t))}}),[O]),p=Object(n.useCallback)((function(e){var t=Object(l.a)({},O.inventory),c=Object(l.a)({},O.decks[0]);t[e]++;var n=c.cards.findIndex((function(t){return t.id===e}));c.cards=c.cards.filter((function(e,t){return t!==n})),h({inventory:t,decks:[c,O.decks[1]]}),localStorage.setItem("STAR_TREK_MY_DECK",c.cards.map((function(e,t){return e.id}))),localStorage.setItem("STAR_TREK_INVENTORY",Object.values(t))}),[O]);return Object(m.jsx)(b.Provider,{value:{cards:o,applicationState:O,buyCard:x,sellCard:p},children:e.children})}c(26);var x=c(2),p=c(20),v=(c(27),function(e){var t=e.imgUrl,c=e.content;return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{className:"card-image",children:Object(m.jsx)("figure",{className:"image",children:Object(m.jsx)("img",{alt:"card face",src:t})})}),Object(m.jsx)("div",{className:"card-content",children:Object(m.jsx)("div",{className:"content",children:c})})]})}),g=function(e,t){for(var c=Math.ceil(e.length/6),n=Object(p.a)(e),r=0;r<e.length%6;r++)n.push(null);for(var a=[],s=0;s<c;s++){var i=n.slice(6*s,6*(s+1));a.push(Object(m.jsx)("div",{className:"columns",children:i.map((function(e,c){return Object(m.jsxs)("div",{className:"column is-one-sixth",children:[e&&Object(m.jsx)("button",{className:"button",onClick:function(){return t(e.id)},children:Object(m.jsx)("small",{children:" Sell (in stock) "})}),e&&Object(m.jsx)(v,{imgUrl:e.imgUrl,content:e.content})]},c)}))},s))}return a},f=function(){var e=Object(x.g)().id,t=O(),c=t.applicationState,n=t.sellCard,r=c.decks[e];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:r.name}),g(r.cards,n)]})},k=function(){var e=O(),t=e.cards,c=e.applicationState,n=e.buyCard,r=c.inventory;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"title is-2",children:"Store Inventory"}),Object(m.jsx)("div",{className:"columns",children:t.map((function(e){return Object(m.jsxs)("div",{className:"column is-one-sixth",children:[Object(m.jsx)("button",{className:"button",onClick:function(){return n(e.id)},children:Object(m.jsxs)("small",{children:["Buy (",r[e.id]," in stock)"]})}),Object(m.jsx)(v,{imgUrl:e.imgUrl,content:e.content})]},e.id)}))})]})},N=function(){var e=O().applicationState.decks;return Object(m.jsx)("div",{className:"navbar",children:Object(m.jsxs)("div",{className:"navbar-menu",children:[Object(m.jsx)(i.b,{to:"/store",activeClassName:"is-selected",className:"navbar-item",children:"Shop"}),e.map((function(e,t){return Object(m.jsx)(i.b,{to:"/deck/".concat(t),className:"navbar-item",activeClassName:"is-selected",children:e.name},t)}))]})})},S=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"title is-1",children:"Star Trek Trading Card Store!"}),Object(m.jsx)("p",{children:"Here you can buy and sell cards in order to build your ultimate deck!"}),Object(m.jsx)(N,{}),Object(m.jsxs)(x.d,{children:[Object(m.jsx)(x.b,{exact:!0,path:"/store",children:Object(m.jsx)(k,{})}),Object(m.jsx)(x.b,{path:"/deck/:id",children:Object(m.jsx)(f,{})}),Object(m.jsx)(x.b,{path:"/",children:Object(m.jsx)(x.a,{to:"/store"})})]})]})};function y(){return Object(m.jsx)(i.a,{children:Object(m.jsx)(h,{children:Object(m.jsx)(S,{})})})}s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.9c02ea83.chunk.js.map